<!DOCTYPE html>

<html>
    <!-- apply header from header.js -->
    <header id="app-header"></header>
    <script async src="header.js"></script>  
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="index.css">
        <title>Reaction Time Test</title>
        <script src="https://cdn.tailwindcss.com"></script>
    </head>

    <body>
        <div class ="border-2 border-gray-200 mt-48 content-center 
        rounded-xl m-48  flex flex-col items-center justify-center pt-24 pb-24 bg-gray-100">

            <div class = "mt-2 flex justify-center">
                <button class="btn btn-GameEvent border-2 rounded-xl border-orange-300
                mb-1 hover:border-orange-400 hover:text-orange-400 p-4 bg-gray-50
                font-bold text-gray-500
                " id="Main-interact">Click to start!</button>
            </div>
            <script defer type="text/javascript" src="reactionTimeTest.js"></script>
            <div class = "border-2 bg-gray-200 rounded-xl pl-12 pr-12 p-4 flex justify-between">
                <p class = "font-bold mt-2">Reaction Time:</p>
                <p id="returnTime" class="ReturnTime font-bold p-2 ml-8 text-green-400" id="TimeText">0.00</p>
                <p id="trailingS" class="ReturnTime font-bold p-2 text-green-400">s</p>
            </div>
            
        </div>
        <div class = "mt-2 flex justify-center">
            <button class="btn btn-GameEvent border-2 rounded-xl border-orange-300
            mb-1 hover:border-orange-400 hover:text-orange-400 p-6 bg-gray-50
            font-bold text-gray-500
            " id="copy-results" onclick="copyContent()" style="display: none;">Copy my score to the clipboard!</button>
        </div>

        <script>
            const copyContent = async () => {
              try {
                let copyText = typeof globalScore === "number" ? "‚è∞Reaction Time Test‚è∞\nMy Score: " + globalScore + " sec\nüìàHuman Benchmarküìà\nhttps://breakthegreat.github.io/CS490PROJECT/reactionTimeTest.html": globalScore;
                await navigator.clipboard.writeText(copyText);
                var copyButton = document.getElementById("copy-results");
                copyButton.innerText = "Copied!";
                console.log('Content copied to clipboard');
                setTimeout(function() {
                    copyButton.innerText = "Copy my score to the clipboard!";
                }, 2000);
              } catch (err) {
                console.error('Failed to copy: ', err);
              }
            }
          </script>
    </body>

</html>
